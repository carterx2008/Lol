local P = game:GetService("Players")
local LP = P.LocalPlayer
local SPAWN_POSITION = Vector3.new(-69, 6, 120)

local function DestroySword(container)
    for _, V in ipairs(container:GetChildren()) do 
        if V:IsA("Tool") and V.Name == "Sword" then 
            V:Destroy() 
        end 
    end
end

local function WatchForSword(container)
    container.ChildAdded:Connect(function(E)
        if E:IsA("Tool") and E.Name == "Sword" then 
            E:Destroy() 
        end
    end)
end

local function SpawnPlayer(character)
    local HRP = character:WaitForChild("HumanoidRootPart")
    
    if HRP then
        HRP.CFrame = CFrame.new(SPAWN_POSITION)
    end
end

local function AC(character)
    DestroySword(character)
    WatchForSword(character)
    SpawnPlayer(character) 
end

local B = LP:WaitForChild("Backpack")
DestroySword(B)
WatchForSword(B)

if LP.Character then 
    AC(LP.Character) 
end

LP.CharacterAdded:Connect(AC)

local function deleteUI()
    local gui = LP:WaitForChild("PlayerGui"):FindFirstChild("SocialMasterUI")
    if gui then
        gui:Destroy()
    end
end

task.spawn(deleteUI)

task.spawn(function()
    while true do
        deleteUI()
        task.wait(0.5)
    end
end)

local PlayerGui = LP:WaitForChild("PlayerGui")
PlayerGui.ChildAdded:Connect(function(child)
    if child.Name == "SocialMasterUI" then
        task.wait(0.05)
        child:Destroy()
    end
end)

LP.CharacterAdded:Connect(function()
    task.wait()
    deleteUI()
end)
